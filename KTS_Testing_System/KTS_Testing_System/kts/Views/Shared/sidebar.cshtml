@using KTS_Testing_System.Classes

@{
    var LoggedUser = (User as CustomPrincipal);
}
<div class="aside-inner">
    <nav data-sidebar-anyclick-close="" class="sidebar">
        <!-- START sidebar nav-->
        <ul id="mainNav" class="nav">

            <!-- START user info-->
            <li class="has-user-block">
                <div id="user-block" class="collapse in">
                    <div class="item user-block">
                        <!-- User picture-->
                        <div class="user-block-picture">
                            <div class="user-block-status">


                                @*@{
                                        var ImageSource = Html.u("~/Base/GetUserPhotograph?UserID=" + (User as CustomPrincipal).Id);
                                        if (ImageSource == "")
                                        {
                                            ImageSource = "~/Content/images/defaultUserImage.png";
                                        }
                                    }*@

                                @*@Html.RenderAction("UserProfileImage", "Base", null)*@.

                                @*@Html.Partial("UserProfileImage")*@
                                @*@Html.Action("UserProfileImage", "UserProfile")*@
                                <img src="~/Content/images/defaultUserImage.png" alt="Avatar" id="ProfilePicture" class="img-thumbnail img-circle" height="60" width="60">
                                @*@Html.RenderPartial("UserProfileImage")*@
                                @*<img src="data:image;base64,@ImageSource" alt="Avatar" id="ProfilePicture" class="img-thumbnail img-circle" height="60" width="60">*@

                                <div class="circle circle-success circle-lg"></div>
                            </div>
                        </div>
                        <!-- Name and Job-->
                        <div class="user-block-info">


                            <span class="user-block-name">Welcome!, @(Utility.ToTitlecase((User as CustomPrincipal).FirstName) + " " + Utility.ToTitlecase((User as CustomPrincipal).LastName))</span>
                            <span class="user-block-role">@(Utility.ToTitlecase((User as CustomPrincipal).Designation))</span>
                            <span class="user-block-status">@(Utility.ToTitlecase((User as CustomPrincipal).DepartmentName))</span>
                           

                        </div>
                    </div>
                </div>
            </li>
            <!-- END user info-->
            <!-- Iterates over all sidebar items-->
            <li class="nav-heading ">
                <span data-localize="sidebar.heading.HEADER">Main Navigation</span>
            </li>
            <li class="active">
                @*class="active"*@
                <a aria-expanded="true" class="" href="~/Home/Index" title="Dashboard">
                    <em class="icon-home"></em>
                    <span data-localize="sidebar.nav.DASHBOARD">Home</span>
                </a>
            </li>
            @*@if (LoggedUser.IsInRole(SYSTEM_ROLES.system_dashboard))
                {
                    <li>
                        <a aria-expanded="true" class="" href="~/Home/Dashboard" title="Dashboard">
                            <em class="icon-speedometer"></em>
                            <span data-localize="sidebar.nav.DASHBOARD">Dashboard</span>
                        </a>
                    </li>
                }


                @if (LoggedUser.IsInRole(SYSTEM_ROLES.system_setting))
                {
                    <li class="">
                        <a href="" title="Settings">
                            <em class="icon-grid"></em>
                            <span data-localize="sidebar.nav.WIDGETS">Settings</span>
                        </a>
                    </li>
                }*@
            @*@if (LoggedUser.IsInRole(Constants.USER_ROLES.admin))
            {
                <li>
                    <a aria-expanded="true" class="" href="~/ElectronicVoter/Index" title="Voters Information">
                        <em class="icon-check"></em>
                        <span data-localize="sidebar.nav.USERS">Voters Information</span>
                    </a>

                </li>
            }*@


            @if (LoggedUser.IsInRole(Constants.USER_ROLES.admin))
            {
                <li>
                    <a aria-expanded="true" class="" href="~/User/Index" title="Users">
                        <em class="icon-user"></em>
                        <span data-localize="sidebar.nav.USERS">Users</span>
                    </a>

                </li>
            }


            @if (LoggedUser.IsInRole(Constants.USER_ROLES.library_management))
            {
                @* LIBRARY MENUs *@
                <li class="">

                    <a href="#Library" title="Library" data-toggle="collapse">
                        <em class="fa fa-folder-open-o"></em>
                        <span>Library</span>
                    </a>

                    <ul id="Library" class="nav sidebar-subnav collapse">
                        <li class="">
                            <a href="~/Departments/Index" title="Departments">
                                <span>Departments</span>
                            </a>
                        </li>
                        <li class="">
                            <a href="~/Levels/Index" title="Levels">
                                <span>Levels</span>
                            </a>
                        </li>
                        <li class="">
                            <a href="~/Subjects/Index" title="Subjects">
                                <span>Subjects</span>
                            </a>
                        </li>
                    </ul>

                </li>

            }


            <li class="nav-heading ">
                <span data-localize="sidebar.heading.COMPONENTS">Modules</span>
            </li>

            





            @* RESULTS MANAGEMENT MENUs *@
            @if (LoggedUser.IsInRole(Constants.USER_ROLES.data_entry))
            {
                <li>
                    <a aria-expanded="true" class="" href="~/Questions/Index" title="Questions Management">
                        <em class="fa fa-list-ol"></em>
                        <span data-localize="sidebar.nav.QUESTIONS">Questions Management</span>
                    </a>

                </li>
                @*<li class="">
                    <a href="#rmis-module" title="Questions" data-toggle="collapse" class="collapsed" aria-expanded="false">
                        <em class="fa fa-list-ol"></em>
                        <span>Questions Management</span>
                    </a>
                    <ul id="rmis-module" class="nav sidebar-subnav collapse" aria-expanded="false">
                        <li class="sidebar-subnav-header">Questions</li>
                            <li class="">
                                <a href="/Questions/Index" title="Questions Management">
                                    <span>Upload Questions</span>
                                </a>
                            </li>
                    </ul>
                </li>*@
            }
            @if (LoggedUser.IsInRole(Constants.USER_ROLES.test_compiler))
            {
                <li>
                    <a aria-expanded="true" class="" href="~/Tests/Index" title="Test Management">
                        <em class="icon-wallet"></em>
                        <span data-localize="sidebar.nav.TESTS">Test Management</span>
                    </a>

                </li>
            }
        </ul>
        <!-- END sidebar nav-->
    </nav>
</div>