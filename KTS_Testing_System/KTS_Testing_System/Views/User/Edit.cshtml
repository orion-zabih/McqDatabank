@model KTS_Testing_System.ViewModel.UserVM
@using KTS_Testing_System.Extensions
@{
    ViewBag.Title = "Edit";
}


@using (Html.BeginForm("Update", "User", FormMethod.Post, new { id = "userForm" }))
{

    @Html.AntiForgeryToken()
    if (!ViewData.ModelState.IsValid)
    {
        <div class="msg-block alert alert-danger alert-dismissible" role="alert" style="margin:10px;">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            @Html.ValidationSummary(true, "")
        </div>
    }
    <div class="row panel-heading bg-system">
        Edit User Management
        @*@Html.HiddenFor(m => m.prStatus)*@
        <div class="floatright">
            <div class="col-md-12">
                <input value="Update" name="processingStatus" id="processingStatus" onclick="submitUserOnClick(this)" class="btn btn-bg-system" type="button">
                @*<input type="submit" value="Update" id="btnUpdateUser" class="btn btn-bg-system" />*@
                @Html.ActionLink("Back To List", "Index", "User", null, htmlAttributes: new { @class = "btn btn-bg-system" })
            </div>
        </div>
    </div>

    <div>

        <div class="row top-spacing">
            <div class="panel panel-default">
                <div class="panel-heading">
                    User Details
                </div>

                <div class="panel-body">

                    @*@Html.Partial("ExistingUserDetails",Model.User)*@
                    @Html.PartialFor(m => m.User, "ExistingUserDetails")
                    @*@Html.Partial("UserElections", Model)*@


                </div>
            </div>

        </div>
        @*<div class="row top-spacing">
            <div class="panel panel-default">
                <div class="panel-heading">
                    User Contact Data
                </div>

                <div class="panel-body">
                    @Html.Partial("UserContactData",Model)

                </div>
            </div>
        </div>
        <div class="row top-spacing">
            <div class="panel panel-default">
                <div class="panel-heading">
                    User Level
                </div>
                <div class="panel-body">
                    <div role="tabpanel" id="LocationsPanel">
                        @Html.Partial("LocationsPanel", Model)
                    </div>
                </div>
            </div>
        </div>*@
        <div class="row top-spacing">
            <div class="panel panel-default">
                <div class="panel-heading">
                    User Roles
                </div>
                <div class="panel-body">

                    <div role="tabpanel" id="RolesPanel">

                        @Html.Partial("RolesPanel", Model)

                    </div>

                </div>
            </div>
        </div>
        
        @*<div class="row top-spacing">
            <div class="panel panel-default">
                <div class="panel-heading">
                    User Allowed Election Events
                </div>

                <div class="panel-body" id="ElectionsPanel" >

                    @Html.PartialFor(m => m, "ElectionsPanel")


                </div>
            </div>
        </div>
        <div class="row top-spacing">
            <div class="panel panel-default">
                <div class="panel-heading">
                    Constituencies
                </div>
                <div class="panel-body">

                    <div role="tabpanel" id="ConstituencyPanel">

                        @Html.Partial("ConstituencyPanel", Model)

                    </div>

                </div>
            </div>
        </div>*@

    </div>





}

@section scripts
{
    <script src="~/Scripts/ViewScripts/User_Scripts.js"></script>

    @if (Model != null && !string.IsNullOrEmpty(Model.MessageDescription))
    {
        <script> sweetAlert("", "@Model.MessageDescription", "error"); </script>
    }

}
